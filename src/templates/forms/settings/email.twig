{% requireAdmin %}

{% import "_includes/forms" as forms %}

{% macro configWarning(setting) -%}
    {{ "This is being overridden by the {setting} config setting."|t('sprout-forms-google-recaptcha', {
        setting: setting
    })|raw }}
{%- endmacro %}

{% from _self import configWarning %}

{% set sproutEmailIsEnabled = craft.app.getPlugins().isPluginEnabled('sprout-email') %}

{{ forms.lightswitchField({
    label: "Show Notifications Tab"|t('sprout'),
    instructions: "Sprout Forms includes full-featured Notification Emails powered by Sprout Email. If you also have Sprout Email installed, you can disable the Notifications tab in Sprout Forms and manage all Notifications in the Email section of the CP."|t('sprout'),
    name: 'showNotificationsTab',
    on: settings.showNotificationsTab ? true : not sproutEmailIsEnabled,
    onLabel: "Enable"|t('sprout'),
    warning: not sproutEmailIsEnabled ? 'Notifications tab will always display while Sprout Email is disabled'|t('sprout') : config.showNotificationsTab is defined ? configWarning('showNotificationsTab')
}) }}