{% extends "sprout/_layouts/base-settings" %}
{% import "sprout/_includes/sproutcp" as sproutCp %}

{% block actionButton %}

    {% set actionButtonTemplate = currentSection.actionButtonTemplate ?? null %}

    {% if actionButtonTemplate %}
        {% include actionButtonTemplate %}
    {% else %}

        <div class="btngroup submit">
            <input type="submit" class="btn submit" value="{{ 'Save settings'|t('sprout') }}">
            {% if craft.app.getIsMultiSite() and showMultiSiteSettings %}
                <div class="btn submit menubtn"></div>
                <div class="menu">
                    <ul>
                        <li>
                            <a class="formsubmit"
                                data-redirect="{{ ('...')|hash }}">{{ 'Save and copy settings to all sites'|t('sprout') }}
                            </a>
                        </li>
                    </ul>
                </div>
            {% endif %}
        </div>

        {% if sproutConfig.getEnableUpgradeMessages() and sproutConfig.isUpgradable() %}
            {{ sproutCp.upgradeToProButton({
                url: sproutConfig.getUpgradeUrl()
            }) }}
        {% endif %}

    {% endif %}

{% endblock %}

{% block content %}

    <input type="hidden" name="action" value="{{ actionUrl }}">
    <input type="hidden" name="redirect" value="{{ redirectUrl|hash }}">
    <input type="hidden" name="settingsSection" value="{{ configKey }}">
    <input type="hidden" name="packAssociativeArrays" value="{{ packAssociativeArrays }}">
    <input type="hidden" name="siteId" value="{{ currentSite.id }}">

    <div id="settings-cp">

        {% namespace 'settings' %}
            {% include currentSection.template %}
        {% endnamespace %}

    </div>

{% endblock %}