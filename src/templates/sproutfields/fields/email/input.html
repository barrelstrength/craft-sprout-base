{% import "_includes/forms" as forms %}

{% if elementId is not defined %}
    {% set elementId = null %}
{% endif %}

{{ forms.text({
  id: id,
  name: name,
  value: (value is defined) ? value : '',
  placeholder: placeholder ?? null,
}) }}

<span class="sprout-email-button {{ id }}"></span>

{% do view.registerAssetBundle("barrelstrength\\sproutcore\\web\\assets\\sproutfields\\email\\EmailFieldAsset") %}

{% js %}

(function() {
	checkSproutEmailField("{{ namespaceInputId }}", "{{ id }}", "{{ elementId }}", "{{ name }}", "{{ fieldContext }}");
})();

$('input#{{ namespaceInputId }}').on('input', function() {
	checkSproutEmailField("{{ namespaceInputId }}", "{{ id }}", "{{ elementId }}", "{{ name }}", "{{ fieldContext }}");
});

{% endjs %}